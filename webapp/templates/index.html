{% extends "base.html" %}
{% block title %}{{ _('Top') }}{% endblock %}
{% block content %}
<div class="text-center py-5">
  <h1 class="display-4">{{ _('Welcome!') }}</h1>
  <p class="lead">
    {% if current_user.is_authenticated %}
    {{ _('You are logged in.') }}
    {% else %}
    {{ _('Please login to continue.') }}
    {% endif %}
  </p>

  {% if current_user.is_authenticated %}
  <div class="mt-4">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="row">
          {% if current_user.can('dashboard:view') %}
          <div class="col-md-4 mb-3">
            <a href="{{ url_for('dashboard.dashboard') }}" class="btn btn-primary btn-lg w-100">
              <i class="fas fa-th-large"></i><br>{{ _('Dashboard') }}
            </a>
          </div>
          {% endif %}
          {% if current_user.can('wiki:read') %}
          <div class="col-md-4 mb-3">
            <a href="{{ url_for('wiki.index') }}" class="btn btn-info btn-lg w-100">
              <i class="fas fa-book"></i><br>Wiki
            </a>
          </div>
          {% endif %}
          {% if current_user.can('totp:view') %}
          <div class="col-md-4 mb-3">
            <a href="{{ url_for('totp.index') }}" class="btn btn-warning btn-lg w-100">
              <i class="bi bi-shield-lock"></i><br>{{ _('TOTP Management') }}
            </a>
          </div>
          {% endif %}
          {% if current_user.can('certificate:manage') %}
          <div class="col-md-4 mb-3">
            <a href="{{ url_for('certs_ui.index') }}" class="btn btn-secondary btn-lg w-100">
              <i class="bi bi-award"></i><br>{{ _('Certificate Management') }}
            </a>
          </div>
          {% endif %}
          {% if current_user.can('media:view') %}
          <div class="col-md-4 mb-3">
            <a href="{{ url_for('photo_view.session_home') }}" class="btn btn-success btn-lg w-100">
              <i class="fas fa-images"></i><br>{{ _('Photo View') }}
            </a>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  {% endif %}
  {% if not current_user.is_authenticated and language_selector_languages %}
    <div class="dropdown">
      <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="languageDropdown"
              data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-translate me-1"></i>
        {{ language_labels.get(current_language) or (current_language|upper) }}
      </button>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="languageDropdown">
        {% for lang_code in language_selector_languages %}
        <li>
          <a class="dropdown-item{% if lang_code == current_language %} active{% endif %}" href="{{ url_for('set_lang', lang_code=lang_code) }}">
            {{ language_labels.get(lang_code) or (lang_code|upper) }}
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}
</div>
{% endblock %}