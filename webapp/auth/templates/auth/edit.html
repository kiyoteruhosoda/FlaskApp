{% extends "base.html" %}
{% block title %}{{ _('Edit Profile') }} - PhotoNest{% endblock %}

{% block content %}
<div class="login-container">
  <div class="login-card">
    <div class="login-header">
      <h1 class="login-title">{{ _('Edit Profile') }}</h1>
      <p class="login-subtitle">{{ _('Update your sign-in details or password here.') }}</p>
    </div>

    <form method="post" class="login-form">
      <div class="form-group">
        <label for="email" class="form-label">
          <i class="fas fa-envelope"></i>
          {{ _('Email Address') }}
        </label>
        <div class="input-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <input type="email" class="form-control" id="email" name="email" 
               value="{{ current_user.email }}" 
               placeholder="{{ _('Enter your email') }}" required>
      </div>
      
      <div class="form-group">
        <label for="password" class="form-label">
          <i class="fas fa-lock"></i>
          {{ _('New Password') }}
        </label>
        <div class="input-icon">
          <i class="fas fa-lock"></i>
        </div>
        <input type="password" class="form-control" id="password" name="password" 
               placeholder="{{ _('Leave blank to keep current password') }}">
      </div>
      
      <button type="submit" class="btn btn-login">
        <i class="fas fa-save" style="margin-right: 8px;"></i>
        {{ _('Update Profile') }}
      </button>
    </form>
    
    <div class="auth-actions">
      {% if not current_user.totp_secret %}
        <div class="auth-section">
          <div class="auth-code-info">
            <i class="fas fa-shield-alt"></i>
            {{ _('Two-factor authentication is not enabled') }}
          </div>
          <a href="{{ url_for('auth.setup_totp') }}" class="btn btn-secondary">
            <i class="fas fa-mobile-alt" style="margin-right: 8px;"></i>
            {{ _('Enable Two-Factor Authentication') }}
          </a>
        </div>
      {% else %}
        <div class="auth-section">
          <div class="auth-code-success">
            <i class="fas fa-check-circle"></i>
            {{ _('Two-factor authentication is enabled') }}
          </div>
        </div>
      {% endif %}
    </div>

    <div class="forgot-password d-flex flex-column gap-2">
      <a href="{{ url_for('auth.profile') }}" class="link-secondary">{{ _('Back to Profile') }}</a>
      <a href="{{ url_for('feature_x.dashboard') }}" class="link-secondary">{{ _('Back to Dashboard') }}</a>
    </div>
  </div>
</div>
{% endblock %}
