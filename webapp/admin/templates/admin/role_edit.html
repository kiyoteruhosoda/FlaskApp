{% extends "base.html" %}
{% block title %}{{ role and _('Edit Role') or _('Add Role') }}{% endblock %}
{% block content %}
<h2>{{ role and _('Edit Role') or _('Add Role') }}</h2>
<form method="post">
  <div class="mb-3">
    <label class="form-label">{{ _('Name') }}</label>
    <input type="text" class="form-control" name="name" value="{{ role.name if role else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">{{ _('Permissions') }}</label>
    {% for perm in permissions %}
    <div class="form-check">
      <input class="form-check-input" type="checkbox" name="permissions" value="{{ perm.id }}" id="perm{{ perm.id }}" {% if perm.id in selected %}checked{% endif %}>
      <label class="form-check-label" for="perm{{ perm.id }}">{{ perm.code }}</label>
    </div>
    {% endfor %}
  </div>
  <button type="submit" class="btn btn-primary">{{ _('Save') }}</button>
  <a href="{{ url_for('admin.roles') }}" class="btn btn-secondary">{{ _('Cancel') }}</a>
</form>
{% endblock %}

