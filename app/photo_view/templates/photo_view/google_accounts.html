{% extends "base.html" %}
{% block title %}{{ _('Google Accounts') }}{% endblock %}
{% block content %}

<div class="d-flex justify-content-between mb-3">
  <h2>{{ _('Google Accounts') }}</h2>
  <a href="#" class="btn btn-primary">{{ _('Add Account') }}</a>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th>{{ _('Email') }}</th>
      <th>{{ _('Status') }}</th>
      <th>{{ _('Scopes') }}</th>
      <th>{{ _('Last Synced') }}</th>
      <th>{{ _('Token') }}</th>
      <th>{{ _('Actions') }}</th>
    </tr>
  </thead>
  <tbody>
    {% for a in accounts %}
    <tr>
      <td>{{ a.email }}</td>
      <td>
        {% if a.status == 'active' %}
        <span class="badge bg-success">{{ _('active') }}</span>
        {% else %}
        <span class="badge bg-secondary">{{ a.status }}</span>
        {% endif %}
      </td>
      <td>
        {% for s in a.scopes_list() %}
        <span class="badge text-bg-secondary">{{ s }}</span>
        {% endfor %}
      </td>
      <td>{{ a.last_synced_at or '-' }}</td>
      <td>
        {% if a.oauth_token_json %}
        <span class="badge bg-success">OK</span>
        {% else %}
        <span class="badge bg-danger">NG</span>
        {% endif %}
      </td>
      <td>
        <div class="btn-group btn-group-sm" role="group">
          <a href="#" class="btn btn-outline-secondary">{{ _('Reauth') }}</a>
          <a href="#" class="btn btn-outline-secondary">{{ _('Disable') }}</a>
          <a href="#" class="btn btn-outline-secondary">{{ _('Delete') }}</a>
          <a href="#" class="btn btn-outline-secondary">{{ _('Test') }}</a>
        </div>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
